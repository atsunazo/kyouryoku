<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Aå´ - å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ç‰ˆ</title>
</head>
<body>
  <h1>ğŸš€ Aå´: å…¥åŠ›å³å…¨ä¸–ç•ŒåŒæœŸ</h1>
  
  <!-- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆItem1ç”¨ï¼‰ -->
  <div>
    <label>Item1 åå‰: </label>
    <input type="text" id="nameInput1" placeholder="åå‰ã‚’å…¥åŠ›">
  </div>
  <div>
    <label>Item1 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: </label>
    <input type="checkbox" id="statusInput1"> ON/OFF
  </div>
  <div id="status">æ¥ç¶šä¸­...</div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';
    import { getDatabase, ref, onValue, update } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js';
    
    const firebaseConfig = {
      apiKey: "AIzaSyDyr-r4YdBjark6GpoUgPBtW8NLMj6hUjE",
      authDomain: "csv-sync-app-35682.firebaseapp.com",
      databaseURL: "https://csv-sync-app-35682-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "csv-sync-app-35682",
      storageBucket: "csv-sync-app-35682.firebasestorage.app",
      messagingSenderId: "748623311917",
      appId: "1:748623311917:web:0a1118a75dd237ff5d34a4"
    }; 
    
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    
    // Item1ã®å‚ç…§ï¼ˆcsvData/1ï¼‰
    const item1Ref = ref(db, 'csvData/1');
    
    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦– + åŒæ–¹å‘åŒæœŸ
    onValue(item1Ref, (snapshot) => {
      const data = snapshot.val() || {};
      // å…¥åŠ›æ¬„ã«Firebaseãƒ‡ãƒ¼ã‚¿ã‚’åæ˜ ï¼ˆä»–ãƒšãƒ¼ã‚¸ã‹ã‚‰ã®å¤‰æ›´ã‚‚åŒæœŸï¼‰
      document.getElementById('nameInput1').value = data.name || '';
      document.getElementById('statusInput1').checked = data.status || false;
      document.getElementById('status').innerHTML = `åŒæœŸä¸­: ${data.name || 'æœªè¨­å®š'} (${data.status ? 'ON' : 'OFF'})`;
    });
    
    // åå‰å…¥åŠ›ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆå…¥åŠ›ã™ã‚‹ãŸã³å³Firebaseæ›´æ–°ï¼‰
    document.getElementById('nameInput1').addEventListener('input', (e) => {
      update(item1Ref, { name: e.target.value });
    });
    
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
    document.getElementById('statusInput1').addEventListener('change', (e) => {
      update(item1Ref, { status: e.target.checked });
    });
    
    // åˆå›ãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆåå‰ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¯¾å¿œï¼‰
    update(item1Ref, {
      id: 1,
      name: 'Item1',
      status: false
    });
  </script>
</body>
</html>
